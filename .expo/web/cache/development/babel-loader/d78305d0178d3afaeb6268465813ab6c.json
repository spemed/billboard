{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/yangruiyang/react-native/billboard/src/pages/goodsDetail/index.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport DeviceEventEmitter from \"react-native-web/dist/exports/DeviceEventEmitter\";\nimport BottomDraw from \"../../components/bottomDraw\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\n\nvar GoodsDetail = function (_Component) {\n  _inherits(GoodsDetail, _Component);\n\n  var _super = _createSuper(GoodsDetail);\n\n  function GoodsDetail(props) {\n    var _this;\n\n    _classCallCheck(this, GoodsDetail);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      address: {\n        id: 0,\n        name: \"\",\n        detail: \"\",\n        phone: \"\"\n      },\n      goods: {\n        ptr: \"\",\n        used: 0,\n        limit: 10\n      },\n      nums: 1,\n      points: 0\n    };\n    return _this;\n  }\n\n  _createClass(GoodsDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.subscription = DeviceEventEmitter.addListener(\"ChooseAddress\", function (param) {\n        _this2.refs.purchase.show();\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.subscription.remove();\n    }\n  }, {\n    key: \"increase\",\n    value: function increase() {\n      var limit = this.state.goods.limit;\n      var nums = this.state.nums;\n\n      if (nums + 1 > limit) {\n        return;\n      }\n\n      nums++;\n      this.setState({\n        nums: nums\n      });\n    }\n  }, {\n    key: \"decrease\",\n    value: function decrease() {\n      var nums = this.state.nums;\n\n      if (nums - 1 <= 0) {\n        nums = 1;\n      } else {\n        nums--;\n      }\n\n      this.setState({\n        nums: nums\n      });\n    }\n  }, {\n    key: \"viewBuilder\",\n    value: function viewBuilder() {\n      var _this3 = this;\n\n      var navigate = this.props.navigation.navigate;\n      console.log(this.props);\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=815492990,3276551662&fm=26&gp=0.jpg\"\n        },\n        style: {\n          width: 120,\n          height: 120,\n          borderRadius: 5,\n          marginRight: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 22,\n          marginTop: 14,\n          color: \"#89C47E\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }\n      }, \"$29\"), React.createElement(Text, {\n        style: {\n          color: \"#9C9C9C\",\n          marginVertical: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }\n      }, \"\\u5E93\\u5B581385\\u4EF6\"), React.createElement(Text, {\n        style: {\n          color: \"#3E4241\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }\n      }, \"\\u914D\\u9001\\u81F3\\u756A\\u79BA\"))), React.createElement(View, {\n        style: styles.address,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"#00080b\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, \"\\u914D\\u9001\\u533A\\u57DF\"), React.createElement(TouchableOpacity, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: \"space-between\"\n        },\n        onPress: function onPress() {\n          _this3.refs.purchase.setState({\n            visible: false\n          });\n\n          navigate('Address');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          marginVertical: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"location-on\",\n        size: 28,\n        style: {\n          marginRight: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 29\n        }\n      }), React.createElement(Text, {\n        style: {\n          fontSize: 16,\n          alignSelf: \"center\",\n          color: \"#7D7D7D\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 29\n        }\n      }, \"\\u5E7F\\u5DDE\\u5E02 \\u756A\\u79BA\\u533A \\u5927\\u77F3\\u8857\\u9053\")), React.createElement(MaterialIcons, {\n        style: {\n          alignSelf: \"center\"\n        },\n        name: \"keyboard-arrow-right\",\n        size: 28,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }))), React.createElement(View, {\n        style: styles.purchase,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"#00080b\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }, \"\\u8D2D\\u4E70\\u6570\\u91CF\", this.state.goods.limit != Infinity ? \"(\\u9650\\u8D2D\" + this.state.goods.limit + \"\\u4EF6)\" : \"\"), React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }\n      }, React.createElement(MaterialCommunityIcons, {\n        name: \"minus\",\n        size: 26,\n        style: {\n          backgroundColor: \"#F5F5F5\",\n          color: \"#C8C8C8\"\n        },\n        onPress: function onPress() {\n          return _this3.decrease();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: {\n          backgroundColor: \"#F5F5F5\",\n          alignSelf: \"stretch\",\n          textAlignVertical: \"center\",\n          marginHorizontal: 6,\n          textAlign: 'center',\n          paddingHorizontal: 12,\n          color: \"#C8C8C8\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }\n      }, this.state.nums), React.createElement(MaterialIcons, {\n        name: \"add\",\n        size: 26,\n        style: {\n          backgroundColor: \"#F5F5F5\",\n          color: \"#C8C8C8\"\n        },\n        onPress: function onPress() {\n          return _this3.increase();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }))), React.createElement(TouchableOpacity, {\n        style: {\n          backgroundColor: \"#FF6902\",\n          paddingVertical: 10,\n          borderRadius: 20,\n          width: \"100%\",\n          marginTop: 190\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"#F3FFEF\",\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }\n      }, \"\\u786E\\u5B9A\")));\n    }\n  }, {\n    key: \"display\",\n    value: function display() {\n      this.refs.purchase.show();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(BottomDraw, {\n        ref: \"purchase\",\n        translateY: Dimensions.get('window').height * 0.75,\n        content: this.viewBuilder(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }\n      });\n    }\n  }]);\n\n  return GoodsDetail;\n}(Component);\n\nexport { GoodsDetail as default };\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 15\n  },\n  header: {\n    flexDirection: \"row\",\n    borderBottomWidth: 1,\n    borderColor: \"#FAFAFA\",\n    paddingBottom: 10\n  },\n  address: {\n    marginTop: 10,\n    borderBottomWidth: 1,\n    borderColor: \"#FAFAFA\"\n  },\n  purchase: {\n    marginTop: 10,\n    paddingBottom: 10,\n    borderBottomWidth: 1,\n    borderColor: \"#FAFAFA\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  }\n});","map":{"version":3,"sources":["/Users/yangruiyang/react-native/billboard/src/pages/goodsDetail/index.js"],"names":["React","Component","BottomDraw","MaterialIcons","MaterialCommunityIcons","GoodsDetail","props","state","address","id","name","detail","phone","goods","ptr","used","limit","nums","points","subscription","DeviceEventEmitter","addListener","param","refs","purchase","show","remove","setState","navigate","navigation","console","log","styles","container","header","uri","width","height","borderRadius","marginRight","fontSize","marginTop","color","marginVertical","flexDirection","justifyContent","visible","alignSelf","Infinity","alignItems","backgroundColor","decrease","textAlignVertical","marginHorizontal","textAlign","paddingHorizontal","increase","paddingVertical","Dimensions","get","viewBuilder","StyleSheet","create","borderBottomWidth","borderColor","paddingBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {\n    View,\n    Text,\n    Dimensions,\n    StyleSheet,\n    TouchableOpacity,\n    Image,\n    DeviceEventEmitter,\n} from \"react-native\"\nimport BottomDraw from \"../../components/bottomDraw\"\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons';\n\nexport default class GoodsDetail extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            //地址详情\n            address: {\n                id: 0,\n                name:\"\",\n                detail: \"\",\n                phone:\"\",\n            },\n            goods: {\n                ptr: \"\",//图片\n                used: 0,//消耗积分\n                limit : 10, //限购数量,默认无限制\n            },\n            nums: 1,//购买数量\n            points:0,//当前用户积分\n        }\n    }\n\n    componentDidMount() {\n        // 这里的`param`可以不写\n        this.subscription = DeviceEventEmitter.addListener(\"ChooseAddress\", (param) => {\n            this.refs.purchase.show()\n        });\n    }\n    \n    componentWillUnmount() {\n        this.subscription.remove();\n    }\n    \n    //增加\n    increase() {\n        const { limit } = this.state.goods\n        let nums = this.state.nums\n        if (nums + 1 > limit) {\n            return \n        }\n        nums++\n        this.setState({\n            nums\n        })\n    }\n    //减少\n    decrease() {\n        let nums = this.state.nums\n        if (nums - 1 <= 0) {\n            nums = 1 \n        } else {\n            nums--\n        }\n        this.setState({\n            nums\n        })\n    }\n    viewBuilder() {\n        const { navigate } = this.props.navigation\n        console.log(this.props)\n        return (\n            <View style={styles.container}>\n                <View style={styles.header}>\n                    <Image\n                        source={{ uri: \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=815492990,3276551662&fm=26&gp=0.jpg\" }}\n                        style={{\n                            width: 120,\n                            height: 120,\n                            borderRadius: 5,\n                            marginRight:10,\n                        }}\n                    />\n                    <View>\n                        <Text style={{fontSize:22,marginTop:14,color:\"#89C47E\"}}>$29</Text>\n                        <Text style={{color:\"#9C9C9C\",marginVertical:4}}>库存1385件</Text>\n                        <Text style={{color:\"#3E4241\"}}>配送至番禺</Text>\n                    </View>\n                </View>\n                <View style={styles.address}>\n                    <Text style={{color:\"#00080b\"}}>配送区域</Text>\n                    <TouchableOpacity\n                        style={{ flexDirection: 'row', justifyContent: \"space-between\" }}\n                        onPress={() => {\n                            this.refs.purchase.setState({ visible: false })\n                            navigate('Address')\n                        }}\n                    >\n                        <View style={{flexDirection:\"row\",marginVertical:10}}>\n                            <MaterialIcons\n                                name={\"location-on\"}\n                                size={28}\n                                style={{marginRight:4}}\n                            />\n                            <Text style={{fontSize:16,alignSelf:\"center\",color:\"#7D7D7D\"}}>广州市 番禺区 大石街道</Text>\n                        </View>\n                        <MaterialIcons\n                            style={{alignSelf:\"center\"}}\n                            name={\"keyboard-arrow-right\"}\n                            size={28}\n                        />\n                    </TouchableOpacity>\n                </View>\n                <View style={styles.purchase}>\n                    <Text style={{ color: \"#00080b\" }}>\n                        购买数量\n                        {\n                            this.state.goods.limit != Infinity ? `(限购${this.state.goods.limit}件)` : \"\" \n                        }\n                    </Text>\n                    <View style={{flexDirection:\"row\",alignItems:\"center\"}}>\n                        <MaterialCommunityIcons\n                            name={\"minus\"}\n                            size={26}\n                            style={{\n                                backgroundColor: \"#F5F5F5\",\n                                color:\"#C8C8C8\",\n                            }}\n                            onPress={()=>this.decrease()}\n                        />\n                        <Text style={{\n                            backgroundColor: \"#F5F5F5\",\n                            alignSelf: \"stretch\",\n                            textAlignVertical:\"center\",\n                            marginHorizontal: 6,\n                            textAlign:'center',\n                            paddingHorizontal: 12,\n                            color:\"#C8C8C8\",\n                        }}>\n                            {this.state.nums}\n                        </Text>\n                        <MaterialIcons\n                            name={\"add\"}\n                            size={26}\n                            style={{\n                                backgroundColor: \"#F5F5F5\",\n                                color:\"#C8C8C8\",\n                            }}\n                            onPress={()=>this.increase()}\n                        />\n                    </View>\n                </View>\n                <TouchableOpacity style={{\n                    backgroundColor: \"#FF6902\",   \n                    paddingVertical: 10,\n                    borderRadius: 20,\n                    width: \"100%\",\n                    marginTop:190,\n                }}>\n                    <Text style={{  color: \"#F3FFEF\",textAlign:\"center\"}}>确定</Text>\n                </TouchableOpacity>\n            </View>\n        )\n    }\n    display() {\n        this.refs.purchase.show()\n    }\n    render() {\n        return (\n            <BottomDraw\n                ref='purchase'\n                translateY={Dimensions.get('window').height * 0.75}\n                content={this.viewBuilder()}\n            />\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        marginTop: 15,\n    },\n    header: {\n        flexDirection: \"row\",\n        borderBottomWidth: 1,\n        borderColor: \"#FAFAFA\",\n        paddingBottom:10,\n    },\n    address: {\n        marginTop: 10,\n        borderBottomWidth: 1,\n        borderColor: \"#FAFAFA\",\n    },\n    purchase: {\n        marginTop: 10,\n        paddingBottom:10,\n        borderBottomWidth: 1,\n        borderColor: \"#FAFAFA\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent:\"space-between\",\n    }\n})"]},"metadata":{},"sourceType":"module"}