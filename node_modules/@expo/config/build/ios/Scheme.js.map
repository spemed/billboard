{"version":3,"file":"Scheme.js","sourceRoot":"","sources":["../../src/ios/Scheme.ts"],"names":[],"mappings":";;AAGA,SAAgB,SAAS,CAAC,MAAkB;IAC1C,OAAO,OAAO,MAAM,CAAC,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;AAClE,CAAC;AAFD,8BAEC;AAED,SAAgB,SAAS,CAAC,MAAkB,EAAE,SAAoB;IAChE,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;IAC/B,IAAI,CAAC,MAAM,EAAE;QACX,OAAO,SAAS,CAAC;KAClB;IAED,uCACK,SAAS,KACZ,gBAAgB,EAAE,CAAC,EAAE,kBAAkB,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,IACpD;AACJ,CAAC;AAVD,8BAUC;AAED,+CAA+C;AAC/C,SAAgB,YAAY,CAAC,MAAqB,EAAE,SAAoB;IACtE,IAAI,CAAC,MAAM,EAAE;QACX,OAAO,SAAS,CAAC;KAClB;IAED,IAAI,eAAe,GAAG,SAAS,CAAC,gBAAgB,CAAC;IAEjD,yCAAyC;IACzC,IAAI,CAAC,eAAe,EAAE;QACpB,OAAO,SAAS,CAAC,EAAE,MAAM,EAAE,EAAE,SAAS,CAAC,CAAC;KACzC;IAED,uCACK,SAAS,KACZ,gBAAgB,EAAE;YAChB,GAAG,eAAe;YAClB;gBACE,kBAAkB,EAAE,CAAC,MAAM,CAAC;aAC7B;SACF,IACD;AACJ,CAAC;AArBD,oCAqBC","sourcesContent":["import { InfoPlist } from './IosConfig.types';\nimport { ExpoConfig } from '../Config.types';\n\nexport function getScheme(config: ExpoConfig) {\n  return typeof config.scheme === 'string' ? config.scheme : null;\n}\n\nexport function setScheme(config: ExpoConfig, infoPlist: InfoPlist): InfoPlist {\n  let scheme = getScheme(config);\n  if (!scheme) {\n    return infoPlist;\n  }\n\n  return {\n    ...infoPlist,\n    CFBundleURLTypes: [{ CFBundleURLSchemes: [scheme] }],\n  };\n}\n\n// TODO: update this to work well idempotently!\nexport function appendScheme(scheme: string | null, infoPlist: InfoPlist): InfoPlist {\n  if (!scheme) {\n    return infoPlist;\n  }\n\n  let existingSchemes = infoPlist.CFBundleURLTypes;\n\n  // No need to append if we don't have any\n  if (!existingSchemes) {\n    return setScheme({ scheme }, infoPlist);\n  }\n\n  return {\n    ...infoPlist,\n    CFBundleURLTypes: [\n      ...existingSchemes,\n      {\n        CFBundleURLSchemes: [scheme],\n      },\n    ],\n  };\n}\n"]}